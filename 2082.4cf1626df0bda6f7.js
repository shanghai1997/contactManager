"use strict";(self.webpackChunkcontactManager=self.webpackChunkcontactManager||[]).push([[2082],{2082:(lt,T,f)=>{f.r(T),f.d(T,{ContactModule:()=>ot});var w=f(2598),o=f(8256),h=f(8408),y=f(6895),g=f(433),b=f(5861);const I=i=>i.querySelector("input,textarea")||i,M={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class P{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){const e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now)return void(this.now=e);const n=this.now.value!==e.value,t=this.now.selection.some((s,a)=>s!==e.selection[a]);!n&&!t||(n&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,n){this.now=e,this.updateElementState(e,{inputType:n,data:null})}}function C(i){return"string"==typeof i}function L(i,e,n,t){let s="";for(let a=e.length;a<i.length;a++){const r=i[a],c=t?.value[a]===r;if(!C(r)||r===n&&!c)return s;s+=r}return s}function S(i,e){return Array.isArray(e)?i.length===e.length&&Array.from(i).every((n,t)=>{const s=e[t];return C(s)?n===s:n.match(s)}):e.test(i)}function _(i,e,n=null){if(S(i.value,e))return i;const{value:t,selection:s}=Array.isArray(e)?function V(i,e,n){let t=null,s=null;const a=Array.from(i.value).reduce((c,l,d)=>{const p=c+L(e,c,l,n),m=e[p.length];return C(m)?p+m:l.match(m)?(null===t&&d>=i.selection[0]&&(t=p.length),null===s&&d>=i.selection[1]&&(s=p.length),p+l):p},""),r=L(e,a,"",n);return{value:S(a+r,e)?a+r:a,selection:[t??a.length,s??a.length]}}(i,e,n):function J({value:i,selection:e},n){const[t,s]=e;let a=t,r=s;return{value:Array.from(i).reduce((l,d,u)=>{const p=l+d;return t===u&&(a=l.length),s===u&&(r=l.length),p.match(n)?p:l},""),selection:[a,r]}}(i,e);return{selection:s,value:Array.isArray(e)?t.slice(0,e.length):t}}function x(i,e){if(!Array.isArray(e))return i;const[n,t]=i.selection,s=[],a=Array.from(i.value).reduce((r,c,l)=>{const d=e[l];return l===n&&s.push(r.length),l===t&&s.push(r.length),C(d)&&d===c?r:r+c},"");return s.length<2&&s.push(...Array(2-s.length).fill(a.length)),{value:a,selection:[s[0],s[1]]}}class E{constructor(e,n){this.initialElementState=e,this.maskOptions=n,this.value="",this.selection=[0,0];const{value:t,selection:s}=_(e,this.getMaskExpression(e));this.value=t,this.selection=s}addCharacters([e,n],t){const{value:s}=this,a=this.getMaskExpression({value:s.slice(0,e)+t+s.slice(n),selection:[e+t.length,e+t.length]}),r={value:s,selection:[e,n]},c=x(r,a),[l,d]=function N({value:i,selection:e},n,t){const[s,a]=e;return{value:i,selection:"replace"===("function"==typeof t?t({value:i,selection:e}):t)?[s,s+n.length]:[s,a]}}(c,t,this.maskOptions.overwriteMode).selection,u=c.value.slice(0,l)+t,p=u.length,m=_({value:u+c.value.slice(d),selection:[p,p]},a,r);if(s.slice(0,l)===_({value:u,selection:[p,p]},a,r).value||function B(i,...e){return e.every(({value:n,selection:t})=>n===i.value&&t[0]===i.selection[0]&&t[1]===i.selection[1])}(this,m))throw new Error("Invalid mask value");this.value=m.value,this.selection=m.selection}deleteCharacters([e,n]){if(e===n||!n)return;const{value:t}=this,s=this.getMaskExpression({value:t.slice(0,e)+t.slice(n),selection:[e,e]}),a={value:t,selection:[e,n]},r=x(a,s),[c,l]=r.selection,u=_({value:r.value.slice(0,c)+r.value.slice(l),selection:[c,c]},s,a);this.value=u.value,this.selection=u.selection}getMaskExpression(e){const{mask:n}=this.maskOptions;return"function"==typeof n?n(e):n}}class H{constructor(e){this.element=e,this.listeners=[]}listen(e,n,t){const s=n;this.element.addEventListener(e,s,t),this.listeners.push(()=>this.element.removeEventListener(e,s))}destroy(){this.listeners.forEach(e=>e())}}function v(i,e,n){return i.ctrlKey===!!(1&e)&&i.altKey===!!(2&e)&&i.shiftKey===!!(4&e)&&i.metaKey===!!(8&e)&&i.keyCode===n}function G({value:i,selection:e},n){const[t,s]=e;if(t!==s)return[t,s];const a=n?i.slice(t).indexOf("\n")+1||i.length:i.slice(0,s).lastIndexOf("\n")+1;return[n?t:a,n?a:s]}function D({value:i,selection:e},n){const[t,s]=e;return t!==s?[t,s]:(n?[t,s+1]:[t-1,s]).map(r=>Math.min(Math.max(r,0),i.length))}const A=/\s+$/g,O=/^\s+/g,F=/\s/;function q({value:i,selection:e},n){const[t,s]=e;if(t!==s)return[t,s];if(n){const l=i.slice(t),[d]=l.match(O)||[""],u=l.replace(O,"").search(F);return[t,-1!==u?t+d.length+u:i.length]}const a=i.slice(0,s),[r]=a.match(A)||[""],c=a.replace(A,"").split("").reverse().findIndex(l=>l.match(F));return[-1!==c?s-r.length-c:0,s]}function k(i=[]){return(e,...n)=>i.reduce((t,s)=>Object.assign(Object.assign({},t),s(t,...n)),e)}class Q extends P{constructor(e,n){super(),this.element=e,this.maskitoOptions=n,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new H(this.element),this.options=Object.assign(Object.assign({},M),this.maskitoOptions),this.preprocessor=k(this.options.preprocessors),this.postprocessor=k(this.options.postprocessors),this.teardowns=this.options.plugins.map(t=>t(this.element,this.options)),this.ensureValueFitsMask(),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>function R(i){return v(i,1,89)||v(i,5,90)||v(i,12,90)}(t)?(t.preventDefault(),this.redo()):function U(i){return v(i,1,90)||v(i,8,90)}(t)?(t.preventDefault(),this.undo()):void 0),function j(i){return"onbeforeinput"in i}(e)?this.eventListener.listen("beforeinput",t=>{const s=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"historyUndo":return t.preventDefault(),this.undo();case"historyRedo":return t.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:s,selection:D(this.elementState,s)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:t,isForward:s,selection:q(this.elementState,s),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:t,isForward:s,selection:G(this.elementState,s),force:!0});case"insertLineBreak":return this.handleEnter(t);default:return this.handleInsert(t,t.data||"")}}):(this.eventListener.listen("keydown",t=>this.handleKeydown(t)),this.eventListener.listen("paste",t=>{var s;return this.handleInsert(t,(null===(s=t.clipboardData)||void 0===s?void 0:s.getData("text/plain"))||"")})),this.eventListener.listen("input",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:e,selectionStart:n,selectionEnd:t}=this.element;return{value:e,selection:[n||0,t||0]}}get maxLength(){const{maxLength:e}=this.element;return-1===e?1/0:e}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e?.())}updateElementState({value:e,selection:n},t={inputType:"insertText",data:null}){const s=this.elementState.value;this.updateValue(e),this.updateSelectionRange(n),s!==e&&this.dispatchInputEvent(t)}updateSelectionRange([e,n]){var t,s;(this.element.selectionStart!==e||this.element.selectionEnd!==n)&&(null===(s=(t=this.element).setSelectionRange)||void 0===s||s.call(t,e,n))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(function $(i,e){const n=Object.assign(Object.assign({},M),e),t=k(n.preprocessors),s=k(n.postprocessors),a="string"==typeof i?{value:i,selection:[0,0]}:i,{elementState:r}=t({elementState:a,data:""},"validation"),c=new E(r,n),{value:l,selection:d}=s(c,a);return"string"==typeof i?l:{value:l,selection:d}}(this.elementState,this.options))}dispatchInputEvent(e={inputType:"insertText",data:null}){(typeof window<"u"?window:globalThis)?.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleKeydown(e){const n=e.key,t="Delete"===n;switch(n){case"Backspace":case"Delete":return this.handleDelete({event:e,isForward:t,selection:D(this.elementState,t)});case"Enter":return this.handleEnter(e)}(function K({key:i,ctrlKey:e,metaKey:n,altKey:t}){const s=e||n||t,a=/^.$/u.test(i);return!s&&"Backspace"!==i&&a})(e)&&this.handleInsert(e,n)}handleDelete({event:e,selection:n,isForward:t,force:s=!1}){const a={value:this.elementState.value,selection:n},[r,c]=a.selection,{elementState:l}=this.preprocessor({elementState:a,data:""},t?"deleteForward":"deleteBackward"),d=new E(l,this.options),[u,p]=l.selection;d.deleteCharacters([u,p]);const m=this.postprocessor(d,a);if(a.value.slice(0,r)+a.value.slice(c)!==m.value||s)return e.preventDefault(),function Z(i,...e){return e.every(({value:n})=>n===i.value)}(a,l,d,m)?this.updateSelectionRange(t?[p,p]:[u,u]):(this.updateElementState(m,{inputType:"inputType"in e?e.inputType:t?"deleteContentForward":"deleteContentBackward",data:null}),void this.updateHistory(m))}handleInsert(e,n){const t=this.elementState,{elementState:s,data:a=n}=this.preprocessor({data:n,elementState:t},"insert"),r=new E(s,this.options);try{r.addCharacters(s.selection,a)}catch{return e.preventDefault()}const[c,l]=s.selection,d=s.value.slice(0,c)+n+s.value.slice(l),u=this.postprocessor(r,t);if(u.value.length>this.maxLength)return e.preventDefault();d!==u.value&&(e.preventDefault(),this.updateElementState(u,{data:n,inputType:"inputType"in e?e.inputType:"insertText"}),this.updateHistory(u))}handleEnter(e){this.isTextArea&&this.handleInsert(e,"\n")}}var Y=f(7582);let W=(()=>{class i{constructor(n,t){this.ngZone=n,this.elementRef=t,this.maskedElement=null,this.maskito=M,this.maskitoElement=I}ngOnChanges(){var n;return(0,Y.mG)(this,void 0,void 0,function*(){null===(n=this.maskedElement)||void 0===n||n.destroy();const t=this.maskitoElement,s=yield t(this.elementRef.nativeElement);this.maskitoElement===t&&this.ngZone.runOutsideAngular(()=>{this.maskedElement=new Q(s,this.maskito)})})}ngOnDestroy(){var n;null===(n=this.maskedElement)||void 0===n||n.destroy()}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(o.R0b),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["","maskito",""]],inputs:{maskito:"maskito",maskitoElement:"maskitoElement"},features:[o.TTD]}),i})(),z=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})();function X(i,e){if(1&i){const n=o.EpF();o.TgZ(0,"ion-button",6),o.NdJ("click",function(){o.CHM(n);const s=o.oxw();return o.KtG(s.editable=!0)}),o.TgZ(1,"ion-label"),o._uU(2," Edit "),o.qZA()()}}function tt(i,e){if(1&i){const n=o.EpF();o.TgZ(0,"ion-button",6),o.NdJ("click",function(){o.CHM(n);const s=o.oxw();return o.KtG(s.updateContact())}),o.TgZ(1,"ion-label"),o._uU(2," Update "),o.qZA()()}}let et=(()=>{class i{constructor(n){this.alertController=n,this.deleteEmitter=new o.vpe,this.updateEmitter=new o.vpe,this.editable=!1,this.phoneMask={mask:["+","1"," ","(",/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]},this.maskPredicate=function(){var t=(0,b.Z)(function*(s){return s.getInputElement()});return function(s){return t.apply(this,arguments)}}()}ngOnInit(){}conFirmDelete(){var n=this;return(0,b.Z)(function*(){yield(yield n.alertController.create({header:"Alert",subHeader:"Important message",message:"Are you sure to delete this contact?",buttons:[{text:"Cancel",role:"cancel"},{text:"OK",role:"confirm",handler:()=>{n.deleteEmitter.emit(n.contact.id)}}]})).present()})()}updateContact(){this.editable=!1}ngOnDestroy(){}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(h.Br))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-contact-line"]],inputs:{contact:"contact"},outputs:{deleteEmitter:"deleteEmitter",updateEmitter:"updateEmitter"},decls:15,vars:14,consts:[[1,"main-container"],[3,"disabled","clearOnEdit","ngModel","ngModelChange"],["placeholder","+1 (xxx) xxx-xxxx",3,"maskito","maskitoElement","disabled","clearOnEdit","ngModel","ngModelChange"],[1,"dateCol"],[3,"click",4,"ngIf"],["color","danger",3,"click"],[3,"click"]],template:function(n,t){1&n&&(o.TgZ(0,"div",0)(1,"ion-row")(2,"ion-col")(3,"ion-input",1),o.NdJ("ngModelChange",function(a){return t.contact.name=a}),o.qZA()(),o.TgZ(4,"ion-col")(5,"ion-input",2),o.NdJ("ngModelChange",function(a){return t.contact.number=a}),o.qZA()(),o.TgZ(6,"ion-col",3),o._uU(7),o.ALo(8,"date"),o.qZA(),o.TgZ(9,"ion-col"),o.YNc(10,X,3,0,"ion-button",4),o.YNc(11,tt,3,0,"ion-button",4),o.TgZ(12,"ion-button",5),o.NdJ("click",function(){return t.conFirmDelete()}),o.TgZ(13,"ion-label"),o._uU(14," Delete "),o.qZA()()()()()),2&n&&(o.xp6(3),o.Q6J("disabled",!t.editable)("clearOnEdit",!0)("ngModel",t.contact.name),o.xp6(2),o.Q6J("maskito",t.phoneMask)("maskitoElement",t.maskPredicate)("disabled",!t.editable)("clearOnEdit",!0)("ngModel",t.contact.number),o.xp6(2),o.Oqu(o.xi3(8,11,t.contact.date,"mediumDate")),o.xp6(3),o.Q6J("ngIf",!t.editable),o.xp6(1),o.Q6J("ngIf",t.editable))},dependencies:[h.YG,h.wI,h.pK,h.Q$,h.Nd,h.j9,y.O5,g.JJ,g.On,W,y.uU],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:max-content}.main-container[_ngcontent-%COMP%]   .dateCol[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),i})();function nt(i,e){if(1&i){const n=o.EpF();o.TgZ(0,"app-contact-line",6),o.NdJ("deleteEmitter",function(s){o.CHM(n);const a=o.oxw();return o.KtG(a.onDeleteContact(s))}),o.qZA()}2&i&&o.Q6J("contact",e.$implicit)}const it=[{path:"",component:(()=>{class i{constructor(){this.contactList=[{id:33,name:"Sears",number:7097692008,date:new Date},{id:99,name:"Matt",number:7097692008,date:new Date("1991-12-17")},{id:88,name:"Brett",number:7097692008,date:new Date("1998-12-17")},{id:8989,name:"Sanyu",number:7097692008,date:new Date("1999-12-17")}],this.displayedList=[...this.contactList]}ngOnInit(){}onDeleteContact(n){this.contactList=this.contactList.filter(t=>t.id!==n),this.displayedList=this.filterContent?this.contactList.filter(t=>t.name&&t.name.includes(this.filterContent)):[...this.contactList]}updateDisplayedList(n){this.displayedList=n.target.value.slice().length>0?this.contactList.filter(t=>t.name&&t.name.includes(n.target.value)):[...this.contactList]}sortDisplayedList(n){this.displayedList=this.displayedList.sort(n?(t,s)=>t.date.valueOf()-s.date.valueOf():(t,s)=>t.name.charCodeAt(0)-s.name.charCodeAt(0))}addLine(){this.contactList.push({id:100*Math.random()+100*Math.random(),number:null,name:"sample",date:new Date}),this.displayedList=this.filterContent?this.contactList.filter(n=>n.name&&("sample"===n.name||n.name.includes(this.filterContent))):[...this.contactList]}ngOnDestroy(){}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-contact"]],decls:22,vars:2,consts:[[1,"main-content"],["label","Name Filter",1,"filter",3,"ngModel","ionInput","ngModelChange"],["filter",""],["color","primary","name","arrow-up-outline",3,"click"],[3,"contact","deleteEmitter",4,"ngFor","ngForOf"],[3,"click"],[3,"contact","deleteEmitter"]],template:function(n,t){1&n&&(o.TgZ(0,"ion-content")(1,"div",0)(2,"ion-item")(3,"ion-input",1,2),o.NdJ("ionInput",function(a){return t.updateDisplayedList(a)})("ngModelChange",function(a){return t.filterContent=a}),o.qZA()(),o.TgZ(5,"ion-grid")(6,"ion-row")(7,"ion-col"),o._uU(8,"Name "),o.TgZ(9,"ion-icon",3),o.NdJ("click",function(){return t.sortDisplayedList(0)}),o.qZA()(),o.TgZ(10,"ion-col"),o._uU(11,"Number"),o.qZA(),o.TgZ(12,"ion-col"),o._uU(13,"Date Created "),o.TgZ(14,"ion-icon",3),o.NdJ("click",function(){return t.sortDisplayedList(1)}),o.qZA()(),o.TgZ(15,"ion-col"),o._uU(16,"Option"),o.qZA()(),o.YNc(17,nt,1,1,"app-contact-line",4),o.TgZ(18,"ion-row")(19,"ion-button",5),o.NdJ("click",function(){return t.addLine()}),o.TgZ(20,"ion-label"),o._uU(21,"Add"),o.qZA()()()()()()),2&n&&(o.xp6(3),o.Q6J("ngModel",t.filterContent),o.xp6(14),o.Q6J("ngForOf",t.displayedList))},dependencies:[h.YG,h.wI,h.W2,h.jY,h.gu,h.pK,h.Ie,h.Q$,h.Nd,h.j9,y.sg,g.JJ,g.On,et],styles:[".main-content[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center;align-items:center;white-space:nowrap;height:max-content;flex-direction:column}.main-content[_ngcontent-%COMP%]   ion-input.filter[_ngcontent-%COMP%]{--background: #373737;--color: #fff;--placeholder-color: #ddd;--placeholder-opacity: .8;--padding-bottom: 10px;--padding-end: 10px;--padding-start: 10px;--padding-top: 10px;margin-bottom:30px}"]}),i})()}];let st=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[w.Bz.forChild(it),w.Bz]}),i})(),ot=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[h.Pc,st,y.ez,g.u5,z]}),i})()}}]);